
# DevOps Test Two - FastAPI Coupon Microservice ðŸ§¾

This repository demonstrates a small, testable FastAPI microservice built to manage and validate discount coupons, integrating **unit tests** with `pytest`, and generating **coverage reports**.

## ðŸ“‚ Project Structure

```
.
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ api.py          # API endpoints definition
â”‚   â””â”€â”€ coupons.py      # Coupon validation logic
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ test_api.py     # Unit tests for API endpoints
â”‚   â””â”€â”€ test_coupons.py # Unit tests for coupon logic
â”œâ”€â”€ htmlcov/            # Coverage report (generated by pytest-cov)
â”œâ”€â”€ requirements.txt    # Project dependencies
â”œâ”€â”€ pytest.ini          # Pytest configuration
â””â”€â”€ README.md
```

## ðŸš€ Features

- FastAPI-based microservice
- RESTful endpoints for coupon validation
- Business logic in separate module (`coupons.py`)
- Unit tests for logic and API
- Coverage reports using `pytest-cov`

## ðŸ§ª Running Tests

```bash
# Install dependencies
pip install -r requirements.txt

# Run tests with coverage report
pytest --cov=app --cov-report=html
```

Then open `htmlcov/index.html` to view the coverage report.

## âœ… Requirements

- Python 3.10+
- `pytest`
- `pytest-cov`
- `fastapi`
- `uvicorn`

Install all dependencies with:

```bash
pip install -r requirements.txt
```

## ðŸ“¬ Endpoints

| Method | Path         | Description             |
|--------|--------------|-------------------------|
| GET    | `/`          | Root hello world        |
| POST   | `/validate`  | Validate coupon payload |

## ðŸ“„ License

This project is for educational/testing purposes as part of a DevOps training workflow.
